<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset = "utf-8">
    <title>Wordatic - Create a story one word at a time</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
	<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
	<script src="http://netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js"></script>
	<script src="https://coinbase.com/assets/button.js" type="text/javascript"></script>
    <link rel="stylesheet" href="https://d396qusza40orc.cloudfront.net/startup%2Fcode%2Fsocial-buttons.css">
	<link rel="stylesheet" href="http://netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css">
    <link href="http://fonts.googleapis.com/css?family=Ubuntu:300,400,500,700,300italic,400italic,500italic,700italic" rel="stylesheet" type ="text/css">
    <link href="http://fonts.googleapis.com/css?family=Open+Sans:300italic,600italic,700italic,300,400,600,700,800" 
	  rel="stylesheet" type="text/css">

 <style type="text/css">
/* Large desktop */
@media (min-width: 980px){

.linediv-l {
border-right: 1px white solid;
}
.linediv-r {
border-left: 1px white solid;
}
}

/* Landscape phones and down */
@media (max-width: 480px){

.linediv-l {
border-bottom: 1px white solid;
}
.linediv-r{
border-top: 1px white solid;
}
}
/*I added this to change navbar color. */
.navbar {
	background-color:#F7F8FC;
	background-image: none;
	background-repeat: no-repeat;
	filter: none;
}
.navbar .nav > li> a {
	color: #2F2F4F;
}

/* Adding sign in styling */
.sign-in form {
margin: 0px;
margin: 0px;
margin: 0px;
margin: 0px;
}

.sign-in fieldset{
padding-top: 10px;
padding-right: 10px; 
padding-bottom: 10px;
padding-left: 10px;
}

.sign-in small{
line-height: 100%;
overflow: auto;
clear: both;
font-size: 11px;
border-top-color: #D6D8D9;
border-top-width: 1px;
border-top-style: solid;
display: block;
background-image: none;
background-attachment: scroll;
background-repeat: repeat;
background-position-x: 0%;
background-position-y: 0%;
background-size: auto;
background-origin: padding-box;
background-clip: border-box;
background-color: #EEF0F8;
}

.sign-in small a {
padding-top: 4px;
padding-right: 10px;
padding-bottom: 4px;
padding-right: 10px;
clear: none;
}

/* Main body and headings */
.row .col1{
line-height:normal;
width:auto;
}

body {
	font-family: 'Open Sans', Helvetica, Arial, sans-serif;
	padding: 0 2% 2% 2%;
	margin: 0 2%;
	
}



.hover:hover {

	background-color:LightGray;
	}

.wordHover:hover{

	background-color:LightGray;
	}
.heading, .subheading {
font-family: 'Ubuntu', Helvetica, Arial, sans-serif;
text-align: center;
}

p.lead {
padding-top: 1.5%;
font-size: 24px;
line-height: 30px;
}
p {
font-size: 18px;
line-height:24px;
}

.sentence{
font-size:20px;
}

.story {
overflow-y: auto;
max-height:250px;
min-height:50px;

}
/* Video pitch and Action */

.order{
padding: 2% 0%;
}
.actions {
background-color: #9AA5B0;
padding: 3% 0%;
}


.video, .thermometer, .order, .social {
text-align: center;
}

.statistics h3, .statistics p {
color: white;
}
/*Marketing Copy and Footer */

.footer{
color:#CCCCCC;
text-align: center;
}
.footer p {
font-size: 11px;
}
.footer a{
color: #ccccff;
}

/* http://support.addthis.com/customer/portal/questions/1136093-share-buttons-in-center-position */
div.addthis_toolbox {
width:180px;
margin: 0 auto;

}

</style>

<script type = "text/javascript">
//google analytics stuff
  var _gaq = _gaq||[];
  _gaq.push(['_setAccount', 'UA-43000023-1']);
  _gaq.push(['_trackPageview']);
  
  (function(){
  var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async=true;
  ga.src = ('https:' == document.location.protocol ? 'https://sll' : 'http://www') + '.google-analytics.com/ga.js';
  var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>

</head>
<body>
	<!-- Mobile-friendly navbar adapted from example. -->
<!-- http://twitter.github.io/bootstrap/examples/starter-template.html -->
<div class="navbar navbar-default" role="navigation">
    <div class = "container-fluid">

    	<div class="navbar-header">

		    <button type="button" class="navbar-toggle"
			      data-toggle="collapse" data-target="#navbar-collapse-1">
			<span class="icon-bar"></span>
			<span class="icon-bar"></span>
			<span class="icon-bar"></span>
		    </button>
		    <a class="navbar-brand" href="#">Wordatic</a>
		</div>
      		
<!-- </form> -->
  		<div class="navbar-collapse collapse" id="navbar-collapse-1">
  		
			<ul class = "nav navbar-nav">
				<li class="active"><a href="#">Home</a></li>
				<li><a href="#about">About</a></li>
				<li><a href="#contact">Contact</a></li>
			</ul>
							<div class="dropdown navbar-right sign-in">
					<a class="dropdown-toggle" href="/signin" data-toggle="dropdown">Sign in</a>
					<ul class = "dropdown-menu">
	  					<form action="/signin" method="post">
					    <fieldset>
					      <label>
						<input name="username" type="email" required="" placeholder="yourname@example.com" value=""/>
					      </label>
					      <label>
						<input name ="password" type="password" required="" placeholder="Password" />
					      </label>
					      <label class = "checkbox pull-left no-wrap">
						<span data-original-title="test" rel="tooltip">
						<input name = "remember" type="checkbox" />
						Remember me
						</span>
					      </label>

					      <button class="btn btn-success pull-right" type="submit">Sign in</button>
					    </fieldset>

					    <small>
					      <a class="pull-left" href="/reset_passowrd">Forgot password</a>
					      <a class="pull-right" href="/signin">Create an account</a>
					    </small>

						</form>
					</ul><!--end dropdown -->
				</div><!-- end dropdown pull-right-->

  		</div><!-- /.nav-collapse -->
 	</div>
</div>

<div class="container-fluid">
<!-- Font and paired font of .heading/.subheading and body from Google Fonts -->
<!-- We use row-fluid inside containers to achieve a resizable layout. -->
<!-- blogs.endjin.com/2013/04/tips-for-implementing-responsive-designs-using-bootstrap/ -->
<!-- www.google.com/fonts/specimen/Ubuntu -->
<!-- www.google.com/fonts/specimen/Ubuntu#pairings -->
	<div class="row">
      	<div class = "heading col-md-12">
			<h1>Wordatic: Development Version</h1>
      	</div>
	</div>
	<div class = "row subheading">
	  	<div class="col-md-12">
	    	<!-- Special typography from Bootstrap for lead paragraph.-->
	    	<!-- http://twitter.github.io/bootstrap/base-css.html#typography-->
	    	<p class="lead">Vote word by word to make the Best. Story. Ever...</p>
	    </div>
	</div>
	<div class="row">
	    <div class="col-md-12 video media"> <!-- offset1 video"> -->
	      <img class="img" alt="self-writing gif" src="http://www.davidrynn.com/images/self-writing.gif" ><!--onload = "this.width/=2; this.onload=null;">-->
	<!--src="http://placehold.it/480x300">-->
	      </div>
	</div>
    
</div>







	<!-- Bootstrap table/container for story and editor-->

	<div class="row">
		<div class ="col-md-7 editor">Click on word to edit:
			<div class="well">					      						<div id="sentence"><br /></div>
				<div id="words"><br /></div>
				<div>
					<form id = "theForm">
						<label for="word"> Type new word: </label>
						<input id="words1" type="text" size="15" required>
						<br>
						<input type="button" id="submitButton" value="Novelize!"><br>
						<input type="button" id="resetButton" align="left" value="reset"><br>
					</form>
					<ul id="sentence1">
					</ul>

					<div id="result"></div>

				</div>
			</div>
		</div>
		<div class="story col-md-5">Click on sentence to edit:
			<div class="well" id="story">
			</div>
		</div>
	</div>



<!-- We define a new 'actions' div to conatin statistic, order, and share buttons.-->
<div class = "actions offset4">
	<div class="row">
		<div class="col-md-8 offset2">
	  		<div class="row statistics">
	    		<div class="col-md-4">
	    <!-- linediv-l and linediv-r give dividing lines that look
		 different in horizontal and vertical layouts, illustrating 
		 media queries-->
	    			<div class="linediv-l">
	      				<h3>0</h3><p>backers</p>
	    			</div>
	    		</div>
		    	<div class="col-md-4">
		    		<div class="linediv-c">
						<h3>$5</h3><p> of $120</p>
		      		</div>
		    	</div>
			    <div class="col-md-4">
			    	<div class="linediv-r">
						<h3>60</h3><p>days left</p>
			      	</div>
			    </div>
			</div>
		</div>

		<div class="row">
			<div class="col-md-10 offset1">
			  <!-- Bootstrap progress bar -->
			  <!--http://twitter.github.io/bootstrap/components.html#progress-->
			  	<div class="thermometer progress active">
			    	<div class="bar bar-success" style="width: 4%;">
			    	</div>
			    	<div class="bar bar-warning" style="width: 96%;">
			    	</div>
			  	</div>
			</div>
		</div>
		<div class="row">
			<div class="col-md-6 offset3 order">
		<!-- Standard Bootstrap button. -->
		<!-- http://twitter.github.io/bootstrap/base-css.html#buttons -->
		<!--bitcoin purchase-->
					<a class="coinbase-button" data-code="be74b21e2474f16cd37c9a96da987055" 
		 		href="https://coinbase.com/checkouts/be74b21e2474f16cd37c9a96da987055">Pay With Bitcoin</a>
			</div>
		</div>
		<div class="row">
			<div class="col-md-8 offset2 social">
	  <!-- Social buttons are not includedin default Bootstrap.-->
	  <!-- See: htp://noizwaves.github.io/bootstrap-social-buttons-->
	  <!-- AddThis button BEGIN -->
	  			<div class="addthis_toolbox addthis_default_style addthis_32x32_style">
			 	    <a class="addthis_button_preferred_1"></a>
				    <a class="addthis_button_preferred_2"></a>
			<!--	    <a class="addthis_button_preferred_3"></a> -->
			<!--	    <a class="addthis_button_preferred_4"></a> -->
				    <a class="addthis_button_compact"></a>
				    <a class="addthis_counter addthis_bubble_style"></a>
				</div>
			 	  <script type="text/javascript">var addthis_config = {"data_track_addressbar":true};</script>
			 	  <script type="text/javascript" src="https://s7.addthis.com/js/300/addthis_widget.js#pubid=ra-52010aef54589938"></script>

	  <!-- AddThis Button END -->

			</div>
		</div>
  	</div>
</div>


<!-- For the FAQ, we introduce a little bit of JS, using the accordian. -->
<!-- This brings in jquery.js and bootstrap.js as dependencies. -->
<!-- http://twitter.github.io/bootstrap/javascript.html#collapse -->


<div class="row faq">
  <div class="col-md-10 offset1">
    <h3>FAQ</h3>
    <div class="accordion" id="accordion2">
      <div class="accordion-group">
	<div class="accordion-heading">
	  <a class="accordion-toggle" data-toggle="collapse"
	     data-parent="#accordion2" href="#collapseOne">
	    What's Wordatik?
	    </a>
	  </div>
	<div id="collapseOne" class="accordion-body collapse">
	  <div class="accordion-inner">
	    It's a way to make a story word by word.<br>
	    Anyone can add a word and the community votes on which word is best<br>
	    and poof!  -That word is added to the story!
	    </div>
	  </div>
	</div>
      <div class="accordion-group">
	<div class="accordion-heading">
	  <a class="accordion-toggle" data-toggle="collapse"
	     data-parent="#accordion2" href="#collapseTwo">
	    Why does it have such a stupid name?
	    </a>
	  </div>
	<div id="collapseTwo" class="accordion-body collapse">
	  <div class="accordion-inner">
	    Because every other name is taken. Yey!
	    </div>
	</div>
      </div>
    </div>
  </div>

</div>

<!-- Not crucial, but we pout this under a CC By-SA 3.0 license. -->
<!-- http://creativecommons.org/licenses/ -->
<div class="row footers">
  	<div class="col-md-12">
    	<p>This work is licensed under
      the <a href="http://creativecommons.org/licenses/by-sa/3.0">CC
	By-SA 3.0
      </a>, without all the fruft that would otherwise be
      put at the bottom of the page.</p>
  	</div>
</div>





<script>

		//here's what will eventually be JSON
		var storyWords = ["Once","upon","a","time","there","were","three","dragons","living","together","in","a","big","cave",".","They","were","siblings",".","Humphrey","was","the","oldest",".","He","was","cranky","but","well-liked","kinda","."];
		//variable to hold index number of clicked word
		var wordIndex;

//jquery 



//first delegated click to place highlighted sentence in editor mode


$(document).on('click', '.hover', function(e){
	var phrase = $(this).html();
	//clears sentence
	$('#sentence').replaceWith('<div class="story" id="sentence"></div><br');

	//adds sentence to editor 
	var phraseArray=phrase.split(" ");
	var phraseLength=phraseArray.length;
	//clears word before new sentence placed
	$('#words').replaceWith('<div class="copy-left" id="words"></div>');

	for (var j=0; j<phraseLength; j++){
		//now add phraseLength number of divs each with a word
		$('#sentence').append("<span class='wordHover' id=a"+j+">"+phraseArray[j]+" "+"</span>");
	}

});

//adds clicked on word into focus
$(document).on('click', '.wordHover', function(e){
	var wordEdit = $(this).html();
	wordIndex=storyWords.indexOf(wordEdit.trim());
	$('#words').replaceWith('<div class="copy-left" id="words">' + wordEdit + '</div>');


});



//beginning of Javascript


		var sentence =[];
		//possibly goint to use 'sentences' to store sentences for editing
		var sentences =[];
		console.log("Sentence is this long: " + sentence.length);

		window.onload = init;

		function init(){
			var submitButton = document.getElementById("submitButton");
			submitButton.onclick = getWord;
			var resetButton = document.getElementById("resetButton");
			resetButton.onclick = clearAll;
			storyBuilder();
		}

		//storyBuilder function builds the "story" from the array storyWords(eventually JSON);
		function storyBuilder(){
			var story = document.getElementById("story");
			console.log(storyWords.length);
			var periods=[];
			var count=0;
			//this for loop is used to figure the number of sentences and where they start/stop.
			for (var i=0;i<storyWords.length;i++){

				if(storyWords[i]===("."||"!"||"?")){
					periods.push(i);
					console.log(i);
					count++;
				}
				
			};

			/*these loops put spans with tags around the sentences and insert the spans 
			into the DOM alond with the words. 
			*/
			for (var k=0;k<count;k++){

				var spanHover=document.createElement('span');
				spanHover.setAttribute('class','hover');
				story.appendChild(spanHover);

				if(k===0){
					var j=0;
				} else {
					j=(periods[k-1])+1
				}
				for (j;j<=periods[k];j++){
					spanHover.innerHTML+=storyWords[j] + " ";				
				};
			};
		}



		function clearAll(){
		sentence.length = 0;
		var result =document.getElementById("result");
		result.innerHTML =" ";
		}

		function getWord(){
			var wordInput = document.getElementById("words1");
			var word = wordInput.value;
			if (word == null || word =="") {
				alert("Please enter a word");
			return;
			}
			else{

				var result = document.getElementById("words");
				result.innerHTML =word;
				storyWords[wordIndex]=word;


				var theForm = document.getElementById("theForm");
				theForm.reset();
				//clear after reset
				$('#sentence').replaceWith('<div class="story" id="sentence"></div>');
				$('#story').replaceWith('<div class="well" id="story"></div>');



				storyBuilder();

			}
		}


</script>
</body>
</html>
